rz.widgets.ActionsBarWidgetHelpers={},rz.widgets.ActionsBarWidgetHelpers.ActionsBarInterface=["disable","enable","hide","show"],rz.widgets.ActionsBarWidgetHelpers.ActionsBarEvents=["action-raised"],rz.widgets.ActionsBarWidgetHelpers.ActionsBarRenderers={renderers:{},registerRenderer:function(n,r){this.renderers[n]=r},renderAction:function(n,p,c){return this.renderers[n].render(p,c)},initializeAction:function(n,i,s,p,a){this.renderers[n].initialize(i,s,p,a)},doAction:function(n,a,t,p,c){this.renderers[n].doAction(a,t,p,c)}},rz.widgets.ActionsBarWidgetHelpers.ActionsBarRenderers.registerRenderer("button",{renderHelpers:{setActionsData:function(d){return void 0!==d?btoa(JSON.stringify(d)):""},getActionData:function(d){return void 0===d||""==d?void 0:JSON.parse(atob(d))}},render:function(params,registerElement){var uid=generateRandomID(18),sb=new StringBuilder;return sb.appendFormat('<{5} id="{1}" {6}data-action="{3}" data-action-params="{4}" class="ui {2} button">{0}</{5}>',params.text,uid,params.cssClass||"default",params.action,this.renderHelpers.setActionsData(params.actionData),"a"==params.renderTag?"a":"button","a"==params.renderTag?'href="#"':""),registerElement("#"+uid),sb.toString()},initialize:function(id,sender,renderParams,actionHandler){var $this=this;$(id).click(function(e){var el=$(e.currentTarget),ad=el.data("action-params"),eventArgs={action:el.data("action"),actionData:$this.renderHelpers.getActionData(ad),domEl:e};return actionHandler(sender,eventArgs),!1})},doAction:function(action,el,params,callback){switch(action){case"disable":$(el).attr("disabled","disabled").addClass("disabled");break;case"enable":$(el).removeAttr("disabled").removeClass("disabled");break;case"show":$(el).show();break;case"hide":$(el).hide()}void 0!==callback&&callback()}}),rz.widgets.ActionsBarWidget=ruteZangada.widget("rz-actions-bar",rz.widgets.ActionsBarWidgetHelpers.ActionsBarInterface,rz.widgets.ActionsBarWidgetHelpers.ActionsBarEvents,function(){var $this=this;$this.elementsToInitialize=[],$this.actionsMapping={},$this.renderHelpers=rz.widgets.ActionsBarWidgetHelpers.ActionsBarRenderers,this.initialize=function(p,initialized){var elementID=generateRandomID(8),defaultParams={elementID:elementID,ui:{rootElementClass:"ui flat segment"},items:[]};$this.params=$.extend(!0,{},defaultParams,p),initialized()};var renderActionElements=function(sb){void 0!==$this.params.items&&$this.params.items.length>0&&$this.params.items.forEach(function(item){var renderer=item.renderer||"button",html=$this.renderHelpers.renderAction(renderer,item,function(itemID){$this.elementsToInitialize.push({renderer:item,id:itemID}),$this.actionsMapping[item.action]={elID:itemID,params:item}});sb.appendFormat(html)})},executePostRenderScripts=function(){$this.elementsToInitialize.forEach(function(e){var renderer=e.renderer.renderer||"button";$this.renderHelpers.initializeAction(renderer,e.id,$this,e.renderer,emitAction)}),$this.elementsToInitialize=[]},emitAction=function(s,e){$this.raiseEvent("action-raised",e,$this)},mergeParams=function(params,userParams){return void 0!==userParams&&(void 0==params&&(params={}),params.userParams=userParams),params};this.render=function(target){var sb=new StringBuilder;sb.appendFormat('<div id="{0}_actionsbar" class="{1} rz-actionsbarwidget">',$this.params.elementID,$this.params.ui.rootElementClass),renderActionElements(sb),sb.appendFormat("</div>"),$("#"+target).html(sb.toString()),executePostRenderScripts()},this.disable=function(action){$this.updateAction(action,"disable")},this.enable=function(action){$this.updateAction(action,"enable")},this.hide=function(action){$this.updateAction(action,"hide")},this.show=function(action){$this.updateAction(action,"show")},this.updateAction=function(action,updateCommand,params,callback){var map=$this.actionsMapping[action];if(void 0!==map){var p=mergeParams(map.params,params);$this.renderHelpers.doAction(map.params.renderer||"button",updateCommand,map.elID,p,callback)}}});